package com.yosakura.test;

import java.lang.reflect.Constructor;

import org.junit.Test;

import com.yosakura.entity.User;

public class IntanceTest {
	public void getConstructer () throws Exception {
		// 1>获取字节码对象
		Class<?> clazz = Class.forName("com.yosakura.entity.User");
		// 2>获取构造方法
		Constructor<?> wucan = clazz.getConstructor();
		User u = (User)wucan.newInstance();
		
	}
	/**
	 * 1.通过字节码新建对象
	 */
	@Test //单元测试
	public void getInstance () {
		// 现在只有Class字节码文件,如何通过字节码创建对象
		// 1>获取字节码对象
		try {
			Class<?> clazz = Class.forName("com.yosakura.entity.User");
			Object obj = clazz.newInstance();
			if (obj instanceof com.yosakura.entity.User) {
				User user = (User)obj; //对象创建后就可以正常使用了
				System.out.println(user);
			}
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
}
