package com.yosakura.service.impl;

import java.sql.SQLException;

import com.yosakura.dao.impl.ShopDaoImpl;
import com.yosakura.entity.Shop;
import com.yosakura.service.ShopService;

public class ShopServiceImpl implements ShopService{
	//添加商品到购物车
	@Override
	public int addShopCart(Shop shop) {
		int result = 0;
		try {
			ShopDaoImpl sdi = new ShopDaoImpl();
			// 查找有没有相同的商品在购物车
			Long id = sdi.queryShopCart(shop);
			if (id != null){
				// 有相同商品,进行梳理修改
				result = sdi.updateShopCart(new Shop(id,shop.getPnum()));	
			}else {
				// 没有相同商品,进行增加
				result = sdi.addShopCart(shop);	
			}
		} catch (SQLException e) {
			e.printStackTrace();
		}
		return result;
	}
	
}
