<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
	
<struts>
	<package name="user" extends="struts-default" namespace="/">
		<!-- 页面登录 -->
		<action name="doLogin" class="com.yosakura.web.action.UserAction" method="login">
			<result type="dispatcher">/index.jsp</result>
			<result name="error" type="dispatcher">/login.jsp</result>
		</action>
		<!-- 登录 -->
		<action name="doRegist" class="com.yosakura.web.action.UserAction" method="regist">
			<result type="redirect">/index.jsp</result>
			<result name="error" type="redirect">/index.jsp</result>
		</action>
		
		<!-- 获取验证码 -->
		<action name="getVeryCode" class="com.yosakura.web.action.UserAction" method="getvalidateCode">
			<result type="stream">
	                <param name="contentType">image/png</param>
	                <param name="inputName">veryCodeStream</param>
	                <param name="bufferSize">4096</param>
	         </result>
		</action>
	</package>
	
	<package name="userAjax" extends="json-default" namespace="/">
		<!-- 模态框登录 -->
		<action name="doDialogLogin" class="com.yosakura.web.action.UserAction" method="dialogLogin">
			<result type="json">
				<param name="root">result</param>
			</result>
		</action>
		<!-- 用户注销 -->
		<action name="cancel" class="com.yosakura.web.action.UserAction" method="cancel"></action>
		<!-- 找回密码 -->
		<action name="getPwd" class="com.yosakura.web.action.UserAction" method="queryPwd">
			<result type="json">
				<param name="root">result</param>
			</result>
		</action>
		<!-- 查询邮箱是否重复 -->
		<action name="queryUserByEmail" class="com.yosakura.web.action.UserAction" method="queryUserByEmail">
			<result type="json">
				<param name="root">result</param>
			</result>
		</action>
		<!-- 查询名字是否重复 -->
		<action name="queryUserByName" class="com.yosakura.web.action.UserAction" method="queryUserByName">
			<result type="json">
				<param name="root">result</param>
			</result>
		</action>
	</package>
</struts>